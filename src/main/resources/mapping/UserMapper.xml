<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.cam.dao.UserDao">

    <resultMap id="UserBaseMap" type="com.cam.model.User">
        <id column="userid" property="userid" jdbcType="INTEGER"/>
        <result column="username" property="username" jdbcType="VARCHAR"/>
        <result column="useremail" property="userEmail" jdbcType="VARCHAR"/>
        <result column="userpwd" property="userPwd" jdbcType="VARCHAR"/>
        <result column="registertime" property="registerTime" jdbcType="TIMESTAMP"/>
    </resultMap>

    <select id="selectUserById" parameterType="java.lang.Integer" resultMap="UserBaseMap">
        SELECT * FROM t_users
        WHERE userid = #{userId}
    </select>

    <select id="selectUserByUsername" parameterType="java.lang.String" resultMap="UserBaseMap">
        SELECT * FROM t_users
        WHERE username = #{username}
    </select>

    <select id="selectUserByUsernameAndUserPwd" resultMap="UserBaseMap">
        SELECT * FROM t_users
        WHERE username = #{username} and userpwd=#{userPwd}
    </select>

    <select id="selectUserByEmail" resultMap="UserBaseMap">
        SELECT * FROM t_users
        WHERE user_email = #{email}
    </select>

    <insert id="addUser" parameterType="com.cam.model.User">
        INSERT INTO t_users(username,userpwd,useremail,registertime)
        VALUES (#{user.username},#{user.userPwd},#{user.userEmail},now())
    </insert>

    <select id="selectAllUser" resultMap="UserBaseMap">
        SELECT * FROM t_users
    </select>

</mapper>